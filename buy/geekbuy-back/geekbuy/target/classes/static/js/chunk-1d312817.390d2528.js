(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d312817"],{"07ce":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"background-color":"#f6f6f6","min-height":"100vh"}},[e("el-container",[e("el-header",[e("div",{staticClass:"header"},[e("div",{staticClass:"app-name"},[e("router-link",{attrs:{to:"/platform-admin"}},[t._v("后台管理")])],1),e("span",{staticClass:"app-title"},[t._v(t._s(t.admin.nickname))]),e("div",{staticClass:"app-logOut"},[e("el-button",{staticStyle:{"margin-right":"100px"},attrs:{type:"primary"},on:{click:t.logout}},[t._v("退出登录")])],1)])]),e("el-container",[e("div",{staticClass:"mainBody",attrs:{"background-color":"#3a8ee6"}},[e("el-aside",[e("el-col",{attrs:{span:24}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#3a8ee6","text-color":"#fff","active-text-color":"#fff"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"1"}},[e("i",{staticClass:"el-icon-goods"}),e("span",[t._v("商品管理")])]),e("el-menu-item",{attrs:{index:"2"}},[e("i",{staticClass:"el-icon-s-goods"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("订单管理")])]),e("el-menu-item",{attrs:{index:"3"}},[e("i",{staticClass:"el-icon-s-custom"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户管理")])])],1)],1)],1),e("el-main",[1==t.mode?e("IdleGoods"):t._e(),2==t.mode?e("orderList"):t._e(),3==t.mode?e("userList"):t._e()],1)],1)])],1),e("div",{staticClass:"foot"},[e("app-foot")],1)],1)},s=[],n=a("85a9"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-border"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("上线的二手物品")]),e("el-menu-item",{attrs:{index:"2"}},[t._v("下架的二手物品")])],1),1==this.mode?e("el-table",{staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.onlineGoods,stripe:""}},[e("el-table-column",{attrs:{prop:"releaseTime",label:"发布日期",width:"200"}}),e("el-table-column",{attrs:{prop:"idleName",label:"二手物品名称","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"user.nickname",label:"发布用户","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{prop:"idlePrice",label:"价格","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.makeOfflineGoods(a.$index)}}},[t._v("违规下架")])]}}],null,!1,3429048608)})],1):t._e(),e("el-table",{directives:[{name:"show",rawName:"v-show",value:2==this.mode,expression:"this.mode == 2"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.OfflineGoods,stripe:""}},[e("el-table-column",{attrs:{prop:"releaseTime",label:"发布日期",width:"200"}}),e("el-table-column",{attrs:{prop:"idleName",label:"二手物品名称","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"user.nickname",label:"发布用户","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{prop:"idlePrice",label:"价格","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteGoods(a.$index)}}},[t._v("永久删除")])]}}])})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.nowPage,"page-size":8,background:"",layout:"prev, pager, next,jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}})],1)],1)},l=[],r={name:"IdleGoods",data:function(){return{mode:1,nowPage:1,total:0,onlineGoods:[],OfflineGoods:[]}},created:function(){this.getOnlineGoods()},methods:{handleCurrentChange:function(t){this.nowPage=t,1==this.mode&&this.getOnlineGoods(),2==this.mode&&this.getOfflineGoods()},handleSelect:function(t){this.mode!==t&&(this.mode=t,1==t&&(this.nowPage=1,this.getOnlineGoods()),2==t&&(this.nowPage=1,this.getOfflineGoods()))},makeOfflineGoods:function(t){var e=this;this.$api.updateGoods({id:this.onlineGoods[t].id,status:2}).then((function(t){1==t.status_code?e.getOnlineGoods():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},deleteGoods:function(t){var e=this;this.$api.updateGoods({id:this.OfflineGoods[t].id,status:0}).then((function(t){1==t.status_code?e.getOfflineGoods():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},getOnlineGoods:function(){var t=this;this.$api.getGoods({status:1,page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.onlineGoods=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getOfflineGoods:function(){var t=this;this.$api.getGoods({status:2,page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.OfflineGoods=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))}}},c=r,d=(a("599f"),a("2877")),u=Object(d["a"])(c,i,l,!1,null,"52fd07f1",null),m=u.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-border"},[e("el-table",{staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.Order,stripe:""}},[e("el-table-column",{attrs:{prop:"orderNumber",label:"订单号","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{prop:"idleItem.idleName",label:"二手物品名称","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"orderPrice",label:"金额","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":"","min-width":"150",width:"200"}}),e("el-table-column",{attrs:{label:"订单状态",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(t.orderStatus[a.row.orderStatus]))])]}}])}),e("el-table-column",{staticClass:"cell el-tooltip",attrs:{label:"支付状态",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(t.paymentStatus[a.row.paymentStatus]))])]}}])}),e("el-table-column",{attrs:{prop:"paymentWay",label:"支付方式",width:"100","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"paymentTime",label:"支付时间","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteOrder(a.$index)}}},[t._v("删除")])]}}])})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.nowPage,"page-size":8,background:"",layout:"prev, pager, next,jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}})],1)],1)},p=[],f={name:"orderList",created:function(){this.getOrder()},methods:{getOrder:function(){var t=this;this.$api.getOrderList({page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.Order=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},deleteOrder:function(t){var e=this;this.$api.deleteOrder({id:this.Order[t].id}).then((function(t){1==t.status_code?e.getOrder():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){this.nowPage=t,this.getOrder()}},data:function(){return{mode:1,nowPage:1,total:0,paymentStatus:["未支付","已支付"],orderStatus:["待付款","待发货","待收货","已完成","已取消"],Order:[]}}},g=f,w=(a("8e95"),Object(d["a"])(g,h,p,!1,null,"51ab6727",null)),b=w.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-border"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("正常用户")]),e("el-menu-item",{attrs:{index:"2"}},[t._v("违规用户")]),e("el-menu-item",{attrs:{index:"3"}},[t._v("管理员")]),e("div",{directives:[{name:"show",rawName:"v-show",value:3==this.mode,expression:"this.mode ==3"}],staticClass:"addAdminButton"},[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){t.adminRegVisible=!0}}},[t._v("添加管理员")]),e("el-dialog",{attrs:{title:"添加管理员",visible:t.adminRegVisible,width:"25%"},on:{"update:visible":function(e){t.adminRegVisible=e}}},[e("span",{staticStyle:{"margin-left":"10px"}},[t._v("新增管理员名称")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{maxlength:"8",placeholder:"请输入管理员名称",clearable:"",required:""},model:{value:t.adminName,callback:function(e){t.adminName=e},expression:"adminName"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("新增管理员账户")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{minlength:"8",maxlength:"10",placeholder:"请输入管理员账户",clearable:"",required:""},model:{value:t.adminAccount,callback:function(e){t.adminAccount=e},expression:"adminAccount"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("新增管理员密码")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{minlength:"8",placeholder:"请输入管理员密码","show-password":"",required:""},model:{value:t.adminPassword,callback:function(e){t.adminPassword=e},expression:"adminPassword"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("确认管理员密码")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{minlength:"10",placeholder:"请再次输入管理员密码","show-password":"",required:""},model:{value:t.adminRePassword,callback:function(e){t.adminRePassword=e},expression:"adminRePassword"}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.regAdmin}},[t._v("添加")])],1)],1)],1)],1),e("el-table",{directives:[{name:"show",rawName:"v-show",value:1==this.mode,expression:"this.mode == 1"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.userData,stripe:""}},[e("el-table-column",{attrs:{label:"头像",width:"50"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-avatar",{attrs:{shape:"square",size:23,src:t.row.avatar}})]}}])}),e("el-table-column",{attrs:{prop:"accountNumber",label:"用户账号","show-overflow-tooltip":"","min-width":"150",width:"150"}}),e("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","show-overflow-tooltip":"","min-width":"150",width:"150"}}),e("el-table-column",{attrs:{prop:"signInTime",label:"注册时间","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.sealUser(a.$index)}}},[t._v("封号")])]}}])})],1),e("el-table",{directives:[{name:"show",rawName:"v-show",value:2==this.mode,expression:"this.mode == 2"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.badUserData,stripe:""}},[e("el-table-column",{attrs:{label:"头像",width:"50"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-avatar",{attrs:{shape:"square",size:23,src:t.row.avatar}})]}}])}),e("el-table-column",{attrs:{prop:"accountNumber",label:"用户账号","show-overflow-tooltip":"","min-width":"150",width:"150"}}),e("el-table-column",{attrs:{prop:"nickname",label:"用户昵称","show-overflow-tooltip":"",width:"150"}}),e("el-table-column",{attrs:{prop:"signInTime",label:"注册时间","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.unsealUser(a.$index)}}},[t._v("解封")])]}}])})],1),e("el-table",{directives:[{name:"show",rawName:"v-show",value:3==this.mode,expression:"this.mode == 3"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.userManage,stripe:""}},[e("el-table-column",{attrs:{prop:"accountNumber",label:"管理员账号","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{prop:"adminName",label:"管理名称"}})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.nowPage,"page-size":7,background:"",layout:"prev, pager, next,jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}})],1)],1)},_=[],y={name:"userList",created:function(){this.getUserData()},methods:{handleCurrentChange:function(t){this.nowPage=t,1==this.mode&&this.getUserData(),2==this.mode&&this.getBadUserData(),3==this.mode&&this.getUserManage()},handleSelect:function(t){this.mode!==t&&(this.mode=t,1==t&&(this.nowPage=1,this.getUserData()),2==t&&(this.nowPage=1,this.getBadUserData()),3==t&&(this.nowPage=1,this.getUserManage()))},getUserData:function(){var t=this;this.$api.getUserData({page:this.nowPage,nums:8,status:0}).then((function(e){1==e.status_code?(t.userData=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getBadUserData:function(){var t=this;this.$api.getUserData({page:this.nowPage,nums:8,status:1}).then((function(e){1==e.status_code?(t.badUserData=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getUserManage:function(){var t=this;this.$api.getUserManage({page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.userManage=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},sealUser:function(t){var e=this;console.log(this.userData[t].id),this.$api.updateUserStatus({id:this.userData[t].id,status:1}).then((function(t){1==t.status_code?e.getUserData():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},unsealUser:function(t){var e=this;this.$api.updateUserStatus({id:this.badUserData[t].id,status:0}).then((function(t){1==t.status_code?e.getBadUserData():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},regAdmin:function(){var t=this;this.adminPassword==this.adminRePassword?(this.$api.regAdministrator({adminName:this.adminName,accountNumber:this.adminAccount,adminPassword:this.adminPassword}).then((function(e){1==e.status_code?(t.total=t.total+1,t.nowPage=Math.ceil(t.total/8),console.log(t.nowPage),t.getUserManage()):t.$message.error(e.msg)})).catch((function(e){console.log(e),t.$message.error("添加失败，账号重复或网络异常")})),this.adminRegVisible=!1):this.$message.error("两次输入的密码不一致")}},data:function(){return{mode:1,nowPage:1,total:63,adminRegVisible:!1,adminAccount:"",adminPassword:"",adminRePassword:"",adminName:"",userData:[],badUserData:[],userManage:[]}}},P=y,k=(a("d9c4"),Object(d["a"])(P,v,_,!1,null,"6d64db59",null)),x=k.exports,S={name:"platform-admin",components:{AppFoot:n["a"],IdleGoods:m,orderList:b,userList:x},data:function(){return{mode:1,admin:{nickname:"管理员"}}},created:function(){this.admin.nickname=this.$sta.adminName},methods:{logout:function(){var t=this;this.$api.loginOut({}).then((function(e){1===e.status_code&&(t.$sta.isLogin=!1,t.$sta.adminName="",t.$router.push({path:"/login-admin"}))})).catch((function(t){console.log(t)}))},handleSelect:function(t){this.mode!==t&&(this.mode=t)}}},$=S,C=(a("2fa4"),Object(d["a"])($,o,s,!1,null,"490f1b71",null));e["default"]=C.exports},"2fa4":function(t,e,a){"use strict";a("bc04")},"599f":function(t,e,a){"use strict";a("9fd5")},"85a9":function(t,e,a){"use strict";var o=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"foot-container"},[e("div",{staticClass:"author"},[t._v("© 2023 GeekBuy. All Rights Reserved.")])])}],n={name:"Foot"},i=n,l=(a("a747"),a("2877")),r=Object(l["a"])(i,o,s,!1,null,"17569e24",null);e["a"]=r.exports},"8e95":function(t,e,a){"use strict";a("9bfd")},"9bfd":function(t,e,a){},"9fd5":function(t,e,a){},a747:function(t,e,a){"use strict";a("f027")},bc04:function(t,e,a){},d9c4:function(t,e,a){"use strict";a("e07b")},e07b:function(t,e,a){},f027:function(t,e,a){}}]);